# demo
A step-by-step guide to get the most of librAIry

### Requirements
Only [Docker-Engine](https://docs.docker.com/install/) and [Docker-Compose](https://docs.docker.com/compose/install/) are required.

### Installation
1. Clone this project
1. Run `docker-compose up`
1. That's all!!

### Services
a) Corpus Browser:[http://localhost:8080](http://localhost:8080)
b) Restful API:[http://localhost:8081](http://localhost:8081)
c) Document Repository:[http://localhost:8983](http://localhost:8983) and dashboard [http://localhost:8983/solr/banana](http://localhost:8983/solr/banana)


### Add documents

`librAIry` natively supports indexing structured documents in CSV or [JSONL](http://jsonlines.org/), even GZ compressed.

PDF documents or any other format supported by the [Solr load interface](https://lucene.apache.org/solr/guide/8_2/uploading-data-with-index-handlers.html#uploading-data-with-index-handlers) are also supported.

Let's index a documents subset of [JRC-Acquis](https://ec.europa.eu/jrc/en/language-technologies/jrc-acquis) corpora.

It is just a HTTP-POST request through the [http://localhost:8081/documents](http://localhost:8081) service with the following json:

```json
{
  "contactEmail": "your@email.com",
  "dataSink": {
    "format": "SOLR_CORE",
    "url": "http://solr:8983/solr/documents"
  },
  "dataSource": {
    "name":"jrc",
    "dataFields": {
      "id": "0",
      "name": "1",      
      "text": ["2"]
    },
    "filter":",",
    "format": "CSV",
    "offset": 1,
    "size": -1,
    "url": "https://www.dropbox.com/s/wcysf99s6cb2c3p/jrc-en.csv?raw=1"
  }
}
```
An email will be sent when all documents are indexed.

Statistics and some graphs about the corpus will be available in the [dashboard](http://localhost:8983/solr/banana).

### Annotate Documents:

In order to relate semantically similar documents it is required to annotate them previously. The annotations are made according to models generated by `librAIry`.

Let's annotate the documents above with the [model](http://librairy.linkeddata.es/jrc-en-model) created from [Eurovoc](http://eurovoc.europa.eu/) categories.

The following HTTP-POST request to [http://localhost:8081/annotations](http://localhost:8081) will be made:

```json
{
  "contactEmail": "your@email.com",
  "dataSink": {
    "format": "SOLR_CORE",
    "url": "http://solr:8983/solr/documents"
  },
  "dataSource": {
    "name":"jrc",
    "dataFields": {
      "id": "id",
      "name": "name_s",
      "text": ["txt_t"]
    },
    "filter": "source_s:jrc && lang_s:en",
    "format": "SOLR_CORE",
    "offset": 0,
    "size": -1,
    "url": "http://solr:8983/solr/documents"
  },
  "modelEndpoint": "http://librairy.linkeddata.es/jrc-en-model"
}
```

Documents in different languages will be annotated from models in their respective languages. `librAIry` links documents across multi-lingual models.

### Cross-lingual Similarity

With [Corpus Browser](http://localhost:8080) you can navigate through the corpora by semantically similar documents, regardless of language, and filter those that do not meet certain criteria.
